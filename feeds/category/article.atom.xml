<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>Learning the hard way!</title><link href="https://www.mukeshyadav.com/" rel="alternate"></link><link href="https://www.mukeshyadav.com/feeds/category/article.atom.xml" rel="self"></link><id>https://www.mukeshyadav.com/</id><updated>2016-05-23T00:00:00+02:00</updated><entry><title>! 'IOError: cannot write mode P as JPEG | IOError: decoder jpeg not available'</title><link href="https://www.mukeshyadav.com/ioerror-cannot-write-mode-p-as-jpeg-ioerror-decoder-jpeg-not-available.html" rel="alternate"></link><updated>2016-05-23T00:00:00+02:00</updated><author><name>mukesh</name></author><id>tag:www.mukeshyadav.com,2014-01-16:ioerror-cannot-write-mode-p-as-jpeg-ioerror-decoder-jpeg-not-available.html</id><summary type="html">&lt;p&gt;uninstall PIL&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;pip uninstall PIL

sudo apt-get install libjpeg-dev libfreetype6-dev zlib1g-dev libpng12-dev

pip install PIL --upgrade
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;If everything works &lt;/p&gt;
&lt;p&gt;you will see &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;--------------------------------------------------------------------
PIL 1.1.7 SETUP SUMMARY
--------------------------------------------------------------------
version       1.1.7
platform     linux2 2.7.4 (default, Sep 26 2013, 03:20:26)
              [GCC 4.7.3]
--------------------------------------------------------------------
*** TKINTER support not available
*** JPEG support not available
*** ZLIB (PNG/ZIP) support not available
*** FREETYPE2 support not available
*** LITTLECMS support not available
--------------------------------------------------------------------
To add a missing option, make sure you have the required
library, and set the corresponding ROOT variable in the
setup.py script.
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;If the issue does resolve &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;pip uninstall PIL
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;and install Pillow &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;pip install pillow
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;You will see something like this at once its installed. &lt;/p&gt;
&lt;hr /&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;  PIL SETUP SUMMARY
  --------------------------------------------------------------------
  version      Pillow 2.3.0
  platform     linux2 2.7.4 (default, Sep 26 2013, 03:20:26)
               [GCC 4.7.3]
  --------------------------------------------------------------------
  *** TKINTER support not available
  --- JPEG support available
  --- ZLIB (PNG/ZIP) support available
  --- LIBTIFF support available
  --- FREETYPE2 support available
  --- LITTLECMS2 support available
  *** WEBP support not available
  *** WEBPMUX support not available
  --------------------------------------------------------------------
&lt;/pre&gt;&lt;/div&gt;</summary><category term="python"></category></entry><entry><title>Execute linux command in background or Execute Commands After You Exit From a Shell Prompt</title><link href="https://www.mukeshyadav.com/execute-linux-command-in-background-or-execute-commands-after-you-exit-from-a-shell-prompt.html" rel="alternate"></link><updated>2016-05-23T00:00:00+02:00</updated><author><name>Mukesh</name></author><id>tag:www.mukeshyadav.com,2013-12-25:execute-linux-command-in-background-or-execute-commands-after-you-exit-from-a-shell-prompt.html</id><summary type="html">&lt;p&gt;Problem: After running a command on remote server some time you need to close your terminal or pc or the command takes too much time to process and you cant wait for completion. &lt;/p&gt;
&lt;p&gt;for such problems you would want to run the command in background to do so we have &lt;strong&gt;nohup&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;From Man page it says &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;nohup - run a command immune to hangups, with output to a non-tty
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;You use nohup &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;nohup command-name &amp;amp;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Please note &lt;strong&gt;&amp;amp;&lt;/strong&gt; it is required to run the command in background. 
Example &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;nohup tar -cvz file.tar.gz folder1 folder2 &amp;amp;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;The above command will compress the folders in background and even if you close your local terminal the process will run in background. &lt;/p&gt;</summary><category term="unix"></category></entry><entry><title>Allowing ubuntu user to access www folder amazon aws</title><link href="https://www.mukeshyadav.com/allowing-ubuntu-user-to-access-www-folder-amazon-aws.html" rel="alternate"></link><updated>2016-05-23T00:00:00+02:00</updated><author><name>Mukesh</name></author><id>tag:www.mukeshyadav.com,2013-12-11:allowing-ubuntu-user-to-access-www-folder-amazon-aws.html</id><summary type="html">&lt;p&gt;sudo apt-get install apache2&lt;/p&gt;
&lt;p&gt;sudo a2enmod rewrite&lt;/p&gt;
&lt;p&gt;sudo apt-get install libapache2-mod-php5&lt;/p&gt;
&lt;p&gt;sudo /etc/init.d/apache2 restart&lt;/p&gt;
&lt;p&gt;sudo adduser ubuntu www-data
sudo chown -R www-data:www-data /var/www
sudo chmod -R g+rw /var/www&lt;/p&gt;</summary><category term="aws"></category></entry><entry><title>Installing virtualenv in ubuntu</title><link href="https://www.mukeshyadav.com/installing-virtualenv-in-ubuntu.html" rel="alternate"></link><updated>2016-05-23T00:00:00+02:00</updated><author><name>Mukesh</name></author><id>tag:www.mukeshyadav.com,2013-12-01:installing-virtualenv-in-ubuntu.html</id><summary type="html">&lt;p&gt;Virtualenv is a tool to create isolated Python environments.&lt;/p&gt;
&lt;p&gt;There is multiple ways to install virtualenv I'm gonna use one of the esiest way to install it. &lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Installing via pip :&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;To install via pip you have to install pip &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;sudo apt-get install python-pip
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;check installed pip &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;which pip
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Then install virtualenv &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;pip install virtualenv
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Now check where virtualenv got isntalled&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;which virtualenv
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;to create a enviroment run following line&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;virtualenv ~/env/project --no-site-packages
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;env/project is a path where environment will get created. &lt;/p&gt;
&lt;p&gt;To activate environment &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;source ~/env/tweepy/bin/activate
&lt;/pre&gt;&lt;/div&gt;</summary><category term="python"></category></entry><entry><title>! 'Fatal error : watch ENOSPC'</title><link href="https://www.mukeshyadav.com/fatal-error-watch-enospc.html" rel="alternate"></link><updated>2016-05-23T00:00:00+02:00</updated><author><name>Mukesh</name></author><id>tag:www.mukeshyadav.com,2013-11-20:fatal-error-watch-enospc.html</id><summary type="html">&lt;p&gt;Recently while running nodemon for the first time  I got an error which states :- &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;Error&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="n"&gt;watch&lt;/span&gt; &lt;span class="n"&gt;ENOSPC&lt;/span&gt;
&lt;span class="n"&gt;at&lt;/span&gt; &lt;span class="n"&gt;errnoException&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="n"&gt;fs&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;js&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;1019&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;11&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;at&lt;/span&gt; &lt;span class="n"&gt;FSWatcher&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;start&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="n"&gt;fs&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;js&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;1051&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;11&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;at&lt;/span&gt; &lt;span class="n"&gt;Object&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;fs&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;watch&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="n"&gt;fs&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;js&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;1076&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;11&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;at&lt;/span&gt; &lt;span class="n"&gt;Object&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;watchFileChecker&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;check&lt;/span&gt; &lt;span class="o"&gt;(/&lt;/span&gt;&lt;span class="n"&gt;usr&lt;/span&gt;&lt;span class="sr"&gt;/lib/node_modules/nodemon/&lt;/span&gt;&lt;span class="n"&gt;nodemon&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;js&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;160&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;at&lt;/span&gt; &lt;span class="n"&gt;ready&lt;/span&gt; &lt;span class="o"&gt;(/&lt;/span&gt;&lt;span class="n"&gt;usr&lt;/span&gt;&lt;span class="sr"&gt;/lib/node_modules/nodemon/&lt;/span&gt;&lt;span class="n"&gt;nodemon&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;js&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;49&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;22&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;at&lt;/span&gt; &lt;span class="sr"&gt;/usr/lib/node_modules/nodemon/&lt;/span&gt;&lt;span class="n"&gt;nodemon&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;js&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;63&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;11&lt;/span&gt;
&lt;span class="n"&gt;at&lt;/span&gt; &lt;span class="n"&gt;ChildProcess&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;exithandler&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="n"&gt;child_process&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;js&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;641&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;7&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;at&lt;/span&gt; &lt;span class="n"&gt;ChildProcess&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;EventEmitter&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;emit&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="n"&gt;events&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;js&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;98&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;17&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;at&lt;/span&gt; &lt;span class="n"&gt;maybeClose&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="n"&gt;child_process&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;js&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;735&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;16&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;at&lt;/span&gt; &lt;span class="n"&gt;Socket&lt;/span&gt;&lt;span class="o"&gt;.&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;anonymous&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="n"&gt;child_process&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;js&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;948&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;11&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Since Nodemon keeps a monitoring of all the files in your project, to restart the server if there is any change in files. &lt;/p&gt;
&lt;p&gt;Since its low for my project files I changed it to 524298 &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;echo fs.inotify.max_user_watches=524298 | sudo tee -a /etc/sysctl.conf &amp;amp;&amp;amp; sudo sysctl -p
&lt;/pre&gt;&lt;/div&gt;</summary><category term="unix"></category></entry><entry><title>Ignoring files in git (.gitignore)</title><link href="https://www.mukeshyadav.com/ignoring-files-in-git-gitignore.html" rel="alternate"></link><updated>2016-05-23T00:00:00+02:00</updated><author><name>Mukesh</name></author><id>tag:www.mukeshyadav.com,2013-11-09:ignoring-files-in-git-gitignore.html</id><summary type="html">&lt;p&gt;&lt;strong&gt;Problem&lt;/strong&gt;: You want to ignore few folders or files from your git repository&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Solution&lt;/strong&gt;: Add a .gitignore file in your root project folder(even you can add this to your spesific folder too).&lt;/p&gt;
&lt;p&gt;To ignore .htaccess in your repository, add .htaccess in your &lt;strong&gt;.gitignore&lt;/strong&gt; file.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="na"&gt;.htaccess&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;To ignore all uploaded files from upload folder but not the upload folder add&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;uploads/*
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Suppose you have images folder in your upload directory and you want to add this to revision. your .gitignore file will look like &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="sx"&gt;!uploads/images&lt;/span&gt;
&lt;span class="n"&gt;uploads&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;images&lt;/span&gt;&lt;span class="o"&gt;/*&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Second line in above code will ignore all the images file in images folder. &lt;/p&gt;
&lt;p&gt;To exclude index.html and .htaccess add folowing line &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="sx"&gt;!uploads/images/index.html&lt;/span&gt;
&lt;span class="sx"&gt;!uploads/images/.htaccess&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Now your .gitignore file will look like &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="na"&gt;.htaccess&lt;/span&gt;
&lt;span class="nf"&gt;uploads&lt;/span&gt;&lt;span class="err"&gt;/&lt;/span&gt;&lt;span class="p"&gt;*&lt;/span&gt;
&lt;span class="err"&gt;!&lt;/span&gt;&lt;span class="nf"&gt;uploads&lt;/span&gt;&lt;span class="err"&gt;/&lt;/span&gt;&lt;span class="no"&gt;images&lt;/span&gt;
&lt;span class="nf"&gt;uploads&lt;/span&gt;&lt;span class="err"&gt;/&lt;/span&gt;&lt;span class="no"&gt;images&lt;/span&gt;&lt;span class="err"&gt;/&lt;/span&gt;&lt;span class="p"&gt;*&lt;/span&gt;
&lt;span class="err"&gt;!&lt;/span&gt;&lt;span class="nf"&gt;uploads&lt;/span&gt;&lt;span class="err"&gt;/&lt;/span&gt;&lt;span class="no"&gt;images&lt;/span&gt;&lt;span class="err"&gt;/&lt;/span&gt;&lt;span class="no"&gt;index.html&lt;/span&gt;
&lt;span class="err"&gt;!&lt;/span&gt;&lt;span class="nf"&gt;uploads&lt;/span&gt;&lt;span class="err"&gt;/&lt;/span&gt;&lt;span class="no"&gt;images&lt;/span&gt;&lt;span class="err"&gt;/&lt;/span&gt;&lt;span class="no"&gt;.htaccess&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt; If your file or folder is already indexes you have to remove them first &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;git rm -r --cached config/config.js # this this remove config file form git 
git rm -r --cached . # this will remove all the index files and folder
&lt;/pre&gt;&lt;/div&gt;</summary><category term="git"></category></entry><entry><title>Install Solr with Tomcat on ubuntu</title><link href="https://www.mukeshyadav.com/install-solr-on-ubuntu.html" rel="alternate"></link><updated>2016-05-23T00:00:00+02:00</updated><author><name>Mukesh</name></author><id>tag:www.mukeshyadav.com,2013-11-08:install-solr-on-ubuntu.html</id><summary type="html">&lt;p&gt;Install &amp;amp; Configure Solr on Ubuntu, the quickest way
Note: I used the wiki page Ubuntu-10.04-lts-server as basis of this tutorial.
More infos on the general installation at :http://wiki.apache.org/solr/SolrTomcat&lt;/p&gt;
&lt;p&gt;One of the most efficient way to deploy a Solr server is to encapsulate it in a Java servlet, the Apache Foundation (the provider of Solr) brought to us Tomcat, a powerfull http server written in Java.&lt;/p&gt;
&lt;p&gt;The 2 steps procedure (could be 7 if you want to customize everything)&lt;/p&gt;
&lt;p&gt;Install Java (if not already installed)&lt;/p&gt;
&lt;p&gt;Because tomcat and solr are Java based softwares we need the Java environment (As it is advised in the Solr wiki : prefere a full JDK to a simple JRE.)&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nv"&gt;$ &lt;/span&gt;sudo apt-get install openjdk-6-jdk
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Note : Working on Amazon EC2 instance, I had to upgrade temporarly my “micro” instance to “medium”, because of special memory needs during java’s installation.&lt;/p&gt;
&lt;p&gt;Install Tomcat &amp;amp; Solr (You can’t avoid this one)&lt;/p&gt;
&lt;p&gt;For ubuntu (tested with 10.4 LTS), there is an unique package to install, it will take care of installing both Tomcat &amp;amp; Solr, plus the integration of Solr in Tomcat.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nv"&gt;$ &lt;/span&gt;sudo apt-get install solr-tomcat
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;then let’s start the server
$ sudo service tomcat6 start&lt;/p&gt;
&lt;p&gt;Ok it is done !
Solr server responds at http://localhost:8080/solr
and the config &amp;amp; index will be stored at : /usr/share/solr/
In order to use it with Sunspot you’ll have to copy conf/schema.xml &amp;amp; conf/solrconfig.xml from your application to /usr/share/solr/ or /usr/share/solr/conf (Ubuntu 12.04).
But, indeed, you should read the tutorial further to understand why you shouldn’t use Solr directly.&lt;/p&gt;
&lt;p&gt;For now your data are stored in a folder of your system not dedicated to a specific user or application.
It is quite common to read that a public server should use a dedicated user account with constraint privileges. (internet is full of it)&lt;/p&gt;
&lt;p&gt;If like me your not totaly happy with it, follow the next steps to customize the whole thing. I won’t explain you how to start Tomcat as another user (Google it), but how to choose your Solr home directory&lt;/p&gt;
&lt;p&gt;Install tomcat management utilities (not required)&lt;/p&gt;
&lt;p&gt;These utilities could be usefull later, it cost nothing to install them.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nv"&gt;$ &lt;/span&gt;sudo apt-get install tomcat6-admin
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Once installed, you’ll have to grant some user
    $ sudo nano /etc/tomcat6/tomcat-users.xml&lt;/p&gt;
&lt;p&gt;and paste these lines (change username and password as you whish)
&lt;code&gt;&amp;lt;role rolename="manager"/&amp;gt;
    &amp;lt;role rolename="admin"/&amp;gt;
    &amp;lt;user username="tomcat" password="tomcat" roles="manager,admin"/&amp;gt;&lt;/code&gt; 
A Quick test (not required)&lt;/p&gt;
&lt;p&gt;At this point Solr should already be running smoothly. Try Starting tomcat server.&lt;/p&gt;
&lt;p&gt;$ sudo service tomcat6 start&lt;/p&gt;
&lt;p&gt;As it is installed as a service, it is quite cool to manage (you can use start|stop|restart verbs)
Now, reach it with your web browser : http://localhost:8080/
Tomcat should say : It works !
And Solr should be accessible at : http://localhost:8080/solr
if it is ok, take a look to the “Solr Admin” section.
If you installed the management package, take a look at : http://localhost:8080/manager/html and http://localhost:8080/host-manager/html
Configure Solr (not required)&lt;/p&gt;
&lt;p&gt;The context&lt;/p&gt;
&lt;p&gt;Solr is a Java software, when the server starts it create an instance of Solr, which take place in a home directory and get an single uri to access it. let’s configure them.&lt;/p&gt;
&lt;p&gt;In the Solr web admin interface you could check on the third line the default home directory SolrHome=/usr/share/solr/
let’s edit the config file :&lt;/p&gt;
&lt;p&gt;$ sudo nano /var/lib/tomcat6/conf/Catalina/localhost/solr.xml&lt;/p&gt;
&lt;p&gt;and change the fragment below :
&lt;Environment name="solr/home" ..... value="/my-directory/solr" ....&gt;&lt;/p&gt;
&lt;p&gt;Tomcat use the filename (minus “.xml”) as URI to access the instance. If you want to change the uri of Solr just rename the previous file.
If you want several instances of Solr on the same server (several apps, or environments), create a new copy of the previous file
solr-dev.xml can be reached at http://localhost:8080/solr-dev/
solr-prod.xml can be reached at http://localhost:8080/solr-prod/
Will give you two Solr indexes (one index in each solr/home) at two differents uri.
This is cool !
The home directory&lt;/p&gt;
&lt;p&gt;We said to tomcat to point to an unexisting folder, let’s create it by copying the default solr folder.&lt;/p&gt;
&lt;p&gt;$ sudo cp -prL /usr/share/solr/ /my-directory/&lt;/p&gt;
&lt;p&gt;copy options are : r = recursive, p = preserve (ownership, timespamps…), L= copy symlink as real folders &amp;amp; files
If you have a specific user running tomcat :
sudo chown -R tomcat:tomcat /my-directory
The directory you just copied look a bit like our solr/ folder in our app. let’s copy our application configuration files (beware of preserving the R&amp;amp;W access, do a copy/paste of the content if you are not sure) conf/schema.xml &amp;amp; conf/solrconfig.xml in it.
Note : when I copy conf/solrconfig.xml to the new Solr instance it fails to start. But I successfuly use the default file.&lt;/p&gt;
&lt;p&gt;The application.&lt;/p&gt;
&lt;p&gt;It could be something like :&lt;/p&gt;
&lt;p&gt;production:
  solr:
    hostname: solrserver
    port: 8080 #tomcat defaults to port 8080
    path: '/solr-prod' # or '/solr' (ubuntu 12.04)
    log_level: WARNING
development:
  solr:
    hostname: localhost
    port: 8982
    log_level: INFO
test:
  solr:
    hostname: localhost
    port: 8981
    log_level: WARNING&lt;/p&gt;
&lt;p&gt;This doc is directly copy pasted from &lt;a href="https://github.com/sunspot/sunspot/wiki/Configure-Solr-on-Ubuntu,-the-quickest-way"&gt;here&lt;/a&gt;&lt;/p&gt;</summary><category term="solr"></category></entry><entry><title>Mount disk permanently in linux. (auto-mount disk)</title><link href="https://www.mukeshyadav.com/mount-disk-permanently-in-linux-auto-mount-disk-2.html" rel="alternate"></link><updated>2016-05-23T00:00:00+02:00</updated><author><name>Mukesh</name></author><id>tag:www.mukeshyadav.com,2013-11-07:mount-disk-permanently-in-linux-auto-mount-disk-2.html</id><summary type="html">&lt;p&gt;To make the partition auto-mount.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Get your disk name &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;fdisk -l
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Find out the UUID of /dev/sda3 by doing:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;sudo blkid   
sudo vim /etc/fstab
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Now add add a line to the bottom of that file. It should look something like this (UUID will be different):&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;UUID=03ec5dd3-45c0-4f95-a363-61ff321a09ff /works ext4 defaults  0      2
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Now to check whether its working run &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;    sudo mount -a
&lt;/pre&gt;&lt;/div&gt;</summary><category term="unix"></category></entry><entry><title>Delete all lines from vim (Select all delete)</title><link href="https://www.mukeshyadav.com/delete-all-lines-from-vim-select-all-delete.html" rel="alternate"></link><updated>2016-05-23T00:00:00+02:00</updated><author><name>Mukesh</name></author><id>tag:www.mukeshyadav.com,2013-11-07:delete-all-lines-from-vim-select-all-delete.html</id><summary type="html">&lt;p&gt;There are many ways to delete all the lines from a file in vim &lt;/p&gt;
&lt;p&gt;My favorite is &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;:%d
&lt;/pre&gt;&lt;/div&gt;</summary><category term="vim"></category></entry><entry><title>mongo.php not Found (cli)</title><link href="https://www.mukeshyadav.com/mongo-php-not-found-cli.html" rel="alternate"></link><updated>2013-11-05T13:45:28+05:30</updated><author><name>Mukesh</name></author><id>tag:www.mukeshyadav.com,2013-11-05:mongo-php-not-found-cli.html</id><summary type="html">&lt;p&gt;Its common to get an error stating mongo.php not Found after installing mongo driver for php. &lt;br /&gt;
To get rid of the error add &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;extension=mongo.so
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;in your php.ini file &lt;/p&gt;
&lt;p&gt;If you are running mongodb via cron or cli you need to also add into &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;/etc/php5/cli/php.ini
&lt;/pre&gt;&lt;/div&gt;</summary></entry><entry><title>My 10 Favorite sublime shortcuts</title><link href="https://www.mukeshyadav.com/My-10-favorite-sublime-shortcuts.html" rel="alternate"></link><updated>2013-10-23T00:22:12+05:30</updated><author><name>Mukesh</name></author><id>tag:www.mukeshyadav.com,2013-10-23:My-10-favorite-sublime-shortcuts.html</id><summary type="html">&lt;p&gt;Sublime has been my favorite text editor since last 3 years, I tried to switch to emacs and worked with for around 10 months, but every time I used to code in emacs easyness of emacs always reminds me. &lt;/p&gt;
&lt;p&gt;Few of the shortcuts I used every single hours coding are these. &lt;/p&gt;
&lt;p&gt;Show hide sidebar 
ctrl + k, ctrl + b &lt;/p&gt;
&lt;p&gt;Search anything on project 
ctrl + p&lt;/p&gt;
&lt;p&gt;Layout Changing 
Shift + alt + 1 or 2 and to switch window ctrl + 2 or 1&lt;/p&gt;</summary></entry><entry><title>This is my first post on Ghost</title><link href="https://www.mukeshyadav.com/this-is-my-first-post-on-ghost.html" rel="alternate"></link><updated>2013-10-23T00:22:12+05:30</updated><author><name>mukesh</name></author><id>tag:www.mukeshyadav.com,2013-10-23:this-is-my-first-post-on-ghost.html</id><summary type="html">&lt;p&gt;This blog is a my notepad, I'll keep on posting stuff for my refresnce, If any one finds them usefull  that would be my pleasure. &lt;/p&gt;
&lt;p&gt;Many a time I'll copy paste solution or tricks from other sources too. &lt;/p&gt;</summary></entry></feed>