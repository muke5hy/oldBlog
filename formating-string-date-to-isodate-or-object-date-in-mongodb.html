<!DOCTYPE html>
<html lang="en">
<head>
        <title>Formating String date to ISOdate or Object Date in MongoDB</title>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/0.6.0/pure-min.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/0.6.0/grids-responsive-min.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.4.0/css/font-awesome.min.css" />
        <link rel="stylesheet" href="https://www.mukeshyadav.com/theme/css/main.css" />
        <link href="https://www.mukeshyadav.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Learning the hard way! Full Atom Feed" />
        <link href="https://www.mukeshyadav.com/feeds/category/programming.atom.xml" type="application/atom+xml" rel="alternate" title="Learning the hard way! Categories Atom Feed" />
</head>
<body>
    <script>
      if (window.location.href.indexOf('ingenioustechie.com') > 0) {
        window.location.href = window.location.href.replace('ingenioustechie.com', "mukeshyadav.com")
      }
    </script>

    <div class="main-nav-container">

        <div class="pure-g">
            <div class="pure-u-1 pure-u-lg-2-3">
                <div class="main-nav">
                    <ul class="main-nav-list">
                        <li class="main-nav-item"><a href="https://www.mukeshyadav.com/" class="pure-menu-link">Learning the hard way!</a></li>
                        <li class="main-nav-item"><a href="https://twitter.com/muke5hy" class="pure-menu-link">Twitter</a></li>
                        <li class="main-nav-item"><a href="https://www.dropbox.com/s/6paxwgajkke84ie/MukeshYadav.pdf" class="pure-menu-link">RESUME</a></li>

                    </ul>
                </div>
             </div>

             <div class="pure-u-1 pure-u-lg-1-3"></div>
        </div>

    </div>


<div class="page-container">
    <div class="entry-content">
        <div class="post-meta pure-g">
            <div class="pure-u-3-4 meta-data">
                <a href="https://www.mukeshyadav.com/category/programming/index.html" class="category">programming</a><br />

                <a class="author" href="https://www.mukeshyadav.com/author/mukesh.html">Mukesh</a>
                &mdash; <abbr title="2015-11-05T13:36:12+05:30">Thu 05 November 2015</abbr>
            </div>
        </div>
    </div>

    <div class="article-header-container">
        <div class="background-image-container">

            <div class="background-image-small">
                <div class="title-container">
                    <h1>Formating String date to ISOdate or Object Date in MongoDB</h1>
                </div>
            </div>
        </div>
    </div>

    <div class="entry-content">
        <p>MongoDB stores the date in ISODate format which is nothing but a wrapper for the Date object of Javascript. If some how your database has stored to string date, you can convert them to ISO by running following query directly in mongo terminal</p>
<div class="highlight"><pre><span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">.</span><span class="nx">find</span><span class="p">({</span><span class="s2">&quot;date_updated&quot;</span><span class="o">:</span><span class="p">{</span><span class="nx">$type</span><span class="o">:</span><span class="mi">2</span><span class="p">}})</span>    
    <span class="p">.</span><span class="nx">forEach</span><span class="p">(</span> <span class="kd">function</span><span class="p">(</span><span class="nx">item</span><span class="p">){</span>

        <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span><span class="p">(</span><span class="nx">item</span><span class="p">.</span><span class="nx">date_updated</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;string&quot;</span><span class="p">){</span>
            <span class="nx">item</span><span class="p">.</span><span class="nx">date_updated</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ISODate</span><span class="p">(</span><span class="nx">item</span><span class="p">.</span><span class="nx">date_updated</span><span class="p">);</span>
            <span class="nx">db</span><span class="p">.</span><span class="nx">items</span><span class="p">.</span><span class="nx">save</span><span class="p">(</span><span class="nx">item</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>

<span class="p">})</span>
</pre></div>
    </div>

    <footer>
        <div class="tags">
            <a href="https://www.mukeshyadav.com/tag/mongodb/index.html">mongodb</a>
        </div>
        <div class="pure-g post-footer">
            <div class="pure-u-1 pure-u-md-1-2">
                <div class="pure-g poster-info">
                    <div class="pure-u-3-4">
                        <h3 class="author-name"><a href="https://www.mukeshyadav.com/author/mukesh.html">Mukesh</a></h3>
                        <p class="author-description">
                        </p>
                    </div>
                </div>
            </div>



        </div>


    </footer>

    <div class="entry-content">
        <div id="disqus_thread"></div>
        <script type="text/javascript">
            var disqus_shortname = 'ingenioustechie';
            (function() {
                var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
    </div>

</div>


</body>
</html>